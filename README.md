# Media Scraper

Автоматический скрапер метаданных для локальной медиатеки.  
Получает информацию о фильмах с **Кинопоиска** через [kinopoiskapiunofficial](https://kinopoiskapiunofficial.tech) и создаёт файлы в формате, совместимом с **Kodi**:
- **filename**.nfo с мета-данными о фильме.
- **filename**-banner.jpg обложка фильма.
- **filename**-fanаrt.jpg фон для отображения внутри карточки фильма.
- **first_name_last_name**.jpg фото актеров.

> **В большинстве случаев не требуется переименовывать файлы!**

> **Это позволяет использовать загруженные файлы «как есть» — без ручной подготовки.**
Идеальный формат имени файла:
- <Название фильма><год выпуска><техническая информация>.
- Разделители _.()

> **При отклонении от идеального сценария:**
- **Год не найден** → файл **пропускается**, в Telegram приходит уведомление.
- **Некоторые поля отсутствуют в API** - скрипт сохранит то, что есть, и сообщит о пропущенных данных.
- **В ответе API совпадения по году не найдено** - скрипт сохранит данные о фильме с самым свежим годом релиза, уведомит об этом.

> На данный момент поддерживаются **только категории 'Фильмы', 'Мультфильмы'**.

---

## Ожидаемая структура медиатеки
```
MEDIA_ROOT_PATH/  
├── Movies/ - (фильмы)  
|   └──Movie.folder.1/  
|   |   └──.actors  
|   |   |   └──first_name_last_name.jpg  
|   |   |   └──...  
|   |   └── Movie.1.ext  
|   |   ├──Movie.1-banner.jpg  
|   |   └──Movie.1-fanаrt.jpg  
|   └──Movie.folder.2/  
|   |   └──Структура идентична с Movie.1/  
├── Cartoons/ - (мультфильмы)  
|   └──Структура идентична с Movies/  
└── Serials/ - (сериалы)  
    └── *Не определена*  
```

### Запуск
1. Переименуйте `.env.example` в `.env` и заполните согласно комментариям.
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Запустите:
    ```bash
    python src/main.py
    ```

